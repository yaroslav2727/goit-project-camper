{"version":3,"file":"static/js/713.a0ce3bfe.chunk.js","mappings":"oQAEO,MAAMA,EAAUC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,iFAOpBC,EAAUJ,EAAAA,GAAOC,IAAGI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,+EAMpBG,EAAiBN,EAAAA,GAAOO,OAAMC,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,sd,2CCD3C,MAmDA,EAnDoBM,KAClB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAiBF,EAAAA,EAAAA,IAAYG,EAAAA,IAC7BC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,IACxBC,GAAQN,EAAAA,EAAAA,IAAYO,EAAAA,KAEnBC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAgBC,IAAqBF,EAAAA,EAAAA,UAAS,OAC9CG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,IAEjCK,EAAAA,EAAAA,YAAU,KAENlB,EADW,IAATgB,GACOG,EAAAA,EAAAA,MAEAC,EAAAA,EAAAA,GAAgBJ,GAC3B,GACC,CAAChB,EAAUgB,IAEd,MAAMK,EAAcC,KAClBC,EAAAA,EAAAA,KAAkBZ,GAClBC,GAAcD,GACdI,EAAkBO,EAAK,EAOzB,OACEE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAAAF,UACRF,EAAAA,EAAAA,MAACnC,EAAO,CAAAqC,SAAA,EACNC,EAAAA,EAAAA,KAACE,EAAAA,EAAa,KACdL,EAAAA,EAAAA,MAAC9B,EAAO,CAAAgC,SAAA,CACLjB,IAASkB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yCACO,IAAnBxB,EAAQ4B,SAAgBH,EAAAA,EAAAA,KAACI,EAAAA,EAAW,CAAC7B,QAASA,EAASmB,YAAaA,IACpEhB,IAAmB2B,EAAAA,IAClBL,EAAAA,EAAAA,KAAC/B,EAAc,CAACqC,KAAK,SAASC,QAbnBC,KACrBlB,GAAQmB,GAAQA,EAAO,GAAE,EAYuCV,SAAC,sBAO9DnB,IAAaoB,EAAAA,EAAAA,KAACU,EAAAA,EAAM,IACpB1B,IAAagB,EAAAA,EAAAA,KAACW,EAAAA,EAAK,CAACC,QAASlB,EAAanB,QAASY,MACnD,C","sources":["pages/CatalogPage/CatalogPage.module.js","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: flex;\n  margin: 0 auto;\n  gap: 64px;\n  padding: 48px 0;\n`;\n\nexport const ListBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const LoadMoreButton = styled.button`\n  display: inline-flex;\n  padding: 16px 32px;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  background-color: transparent;\n  transition: border-color 250ms ease-out;\n  border-radius: 200px;\n  border: 1px solid var(--color-pale);\n\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.08px;\n  outline: none;\n\n  &:hover {\n    border-color: var(--color-accent);\n  }\n`;\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FilterSidebar from \"components/FilterSidebar/FilterSidebar\";\nimport CatalogList from \"components/CatalogList/CatalogList\";\nimport Loader from \"components/Loader/Loader\";\nimport { loadFirstCampers, loadMoreCampers } from \"store/thunks\";\nimport { Modal } from \"components/Modal/Modal\";\nimport { selectCampers, selectPrevRespLength, selectIsLoading, selectError } from \"store/selectors\";\nimport { Wrapper, ListBox, LoadMoreButton } from \"./CatalogPage.module\";\nimport Container from \"components/Container/Container\";\n\nimport { LIMIT_PER_PAGE } from \"api/adverts\";\nimport { disableScrolling } from \"utils/utils\";\n\nconst CatalogPage = () => {\n  const dispatch = useDispatch();\n  const campers = useSelector(selectCampers);\n  const prevRespLength = useSelector(selectPrevRespLength);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCamper, setSelectedCamper] = useState(null);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (page === 1) {\n      dispatch(loadFirstCampers());\n    } else {\n      dispatch(loadMoreCampers(page));\n    }\n  }, [dispatch, page]);\n\n  const toggleModal = data => {\n    disableScrolling(!showModal);\n    setShowModal(!showModal);\n    setSelectedCamper(data);\n  };\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  return (\n    <>\n      <Container>\n        <Wrapper>\n          <FilterSidebar />\n          <ListBox>\n            {error && <p>Unfortunately, an error has occured!</p>}\n            {campers.length !== 0 && <CatalogList campers={campers} toggleModal={toggleModal} />}\n            {prevRespLength === LIMIT_PER_PAGE && (\n              <LoadMoreButton type=\"button\" onClick={handleLoadMore}>\n                Load more\n              </LoadMoreButton>\n            )}\n          </ListBox>\n        </Wrapper>\n      </Container>\n      {isLoading && <Loader />}\n      {showModal && <Modal onClose={toggleModal} campers={selectedCamper} />}\n    </>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","ListBox","_templateObject2","LoadMoreButton","button","_templateObject3","CatalogPage","dispatch","useDispatch","campers","useSelector","selectCampers","prevRespLength","selectPrevRespLength","isLoading","selectIsLoading","error","selectError","showModal","setShowModal","useState","selectedCamper","setSelectedCamper","page","setPage","useEffect","loadFirstCampers","loadMoreCampers","toggleModal","data","disableScrolling","_jsxs","_Fragment","children","_jsx","Container","FilterSidebar","length","CatalogList","LIMIT_PER_PAGE","type","onClick","handleLoadMore","prev","Loader","Modal","onClose"],"sourceRoot":""}